

Ограничения движения

1) у некоторых <way> есть поле "oneway" - одностороннее движение
     <tag k="oneway" v="no"/> ( v="yes")
2) <relation  поле "restriction"
    <member type="*" ref="*" role="from"/>
    <member type="*" ref="*" role="via"/>
    <member type="*" ref="*" role="to"/>

    from - линия, с которой начинается правило ограничения
    to - линия, куда направлено правило ограничения
    via - точка(пересечения двух линий) или линия (если общих точек много)
    поле via есть всегда, а from и to могут быть оба или один из них
    <tag k="type" v="restriction"/>
    <tag k="restriction" v="значение"/>
    последние две строчки могут стоять в любом порядке

    у всех way, участвующих в rest(т.е. кусочный) однозначно заданы только начало и конец way. вершины внутри могут быть заданы в произвольном порядке

    NO
    все no_* имею вид via,from, to, записанные в любом порядке
    причем, все way разные(они могут состоять хоть из двух вершин и они записаны в любую сторону,
    т.е. нельзя заранее точно сказать, на какую вершину нельзя поворачивать) неа! можною ведь она лежит либо вначале, вконце!!
    но точка via стоит или первой или последней
    a) no_entry, no_exit   = въезд запрещен, т.е. отсутствие ребра вообще
       no_entry - несколько from и один to (т.е. съезд с from через via на to запрещен) => нет ребра via->to
       no_exit - несколько to и  один from (т.е. выезд из from через via на to запрещен) => нет ребра from -> via
    b) no_u_turn from == to

    ONLY
    существует свего один возможный вариант из точки from в to через via


